os: linux
dist: trusty
sudo: false
language: node_js
node_js: '9.11.1'
cache:
  yarn: true
  bundler: true
  directories:
    - node_modules
before_install:
  - '[ ! -z "$BUILD_CONFIG" ] && echo "$BUILD_CONFIG" > "build-config.json" || :'
install:
  - bin/setup
jobs:
  include:
    - stage: test
      script: yarn run lint-js
    - stage: test
      script: echo test
    - stage: build
      if: type IS pull_request OR tag IS present
      os: osx
      osx_image: xcode9.3
      script: bin/ci-build-ios
